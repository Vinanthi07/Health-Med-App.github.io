<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Doctor Dashboard</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        .card { border: 1px solid #ccc; padding: 15px; margin-bottom: 15px; border-radius: 8px; }
        button { padding: 10px 15px; margin: 5px; cursor: pointer; }
        h2 { margin-top: 0; }
    </style>
</head>
<body>

<h1>Doctor Dashboard</h1>

<div class="card">
    <h2>Patient Information</h2>
    <p id="patientInfo">Loading patient data...</p>
</div>

<div class="card">
    <h2>Vitals Report</h2>
    <p id="vitalsInfo">Loading vitals data...</p>
</div>

<div class="card">
    <h2>Clinical Actions</h2>
    <button onclick="window.location.href='education.html'">üìö Patient Education</button>
    <button onclick="goToPrescription()">üìù Generate Prescription</button>
</div>

<div class="card">
    <h2>Post-Care Modules</h2>
    <button onclick="window.location.href='support.html'">üíä Patient Support</button>
    <button onclick="window.location.href='wellness.html'">‚ù§Ô∏è Wellness Tracking</button>
</div>

<script>
// Load patient and vitals
const patient = JSON.parse(localStorage.getItem("patientData"));
const vitals = JSON.parse(localStorage.getItem("vitalsData"));

if(patient){
    document.getElementById("patientInfo").innerHTML = `
        Name: ${patient.name} <br>
        Age: ${patient.age} <br>
        Gender: ${patient.gender} <br>
        Medical History: ${patient.history || "Not disclosed"}
    `;
} else {
    document.getElementById("patientInfo").innerText = "No patient data found. Fill patient.html first.";
}

if(vitals){
    document.getElementById("vitalsInfo").innerHTML = `
        Blood Pressure: ${vitals.bp} <br>
        Heart Rate: ${vitals.heart} bpm <br>
        Temperature: ${vitals.temp} ¬∞C <br>
        Oxygen Level: ${vitals.oxygen} %
    `;
} else {
    document.getElementById("vitalsInfo").innerText = "No vitals data found. Fill vitals.html first.";
}

// Prescription button
function goToPrescription(){
    if(!patient || !vitals){
        alert("Patient data and vitals must be filled before prescription.");
        return;
    }
    window.location.href = "prescription.html";
}
</script>

</body>
</html>
