<script>
const patient = JSON.parse(localStorage.getItem("patientData"));
const vitals = JSON.parse(localStorage.getItem("vitalsData"));

// Display Patient Info
if(patient){
    document.getElementById("patientInfo").innerHTML = `
        Name: ${patient.name} <br>
        Age: ${patient.age} <br>
        Gender: ${patient.gender} <br>
        Medical History: ${patient.history || "Not disclosed"}
    `;
}else{
    document.getElementById("patientInfo").innerText = 
        "No patient data found. Fill patient.html first.";
}

// Display Vitals Info
if(vitals){
    document.getElementById("vitalsInfo").innerHTML = `
        Blood Pressure: ${vitals.bp} <br>
        Heart Rate: ${vitals.heart} bpm <br>
        Temperature: ${vitals.temp} Â°C <br>
        Oxygen Level: ${vitals.oxygen} %
    `;
}else{
    document.getElementById("vitalsInfo").innerText =
        "No vitals data found. Fill vitals.html first.";
}

// Button Actions
function goToPrescription(){
    if(!patient || !vitals){
        alert("Patient data and vitals must be filled before prescription.");
        return;
    }
    window.location.href = "prescription.html";
}

function openEducation(){
    window.location.href = "modules/education/education.html";
}

function openSupport(){
    window.location.href = "modules/patient-support/support.html";
}

function openWellness(){
    window.location.href = "modules/wellness/wellness.html";
}
</script>
