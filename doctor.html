<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Doctor Dashboard</title>
    <style>
        body { font-family: Arial; padding: 20px; max-width: 900px; margin:auto; }
        h1 { text-align: center; color: #2c3e50; }
        .card { border: 1px solid #ccc; padding: 15px; margin-bottom: 15px; border-radius: 8px; }
        button { padding: 10px 15px; margin: 5px; cursor: pointer; border-radius: 5px; border:none; background:#3498db; color:white; }
        button:hover { background:#2980b9; }
        h2 { margin-top: 0; color: #34495e; }
    </style>
</head>
<body>

<h1>Doctor Dashboard</h1>

<div class="card">
    <h2>Patient Information</h2>
    <p id="patientInfo">Loading patient data...</p>
</div>

<div class="card">
    <h2>Vitals Report</h2>
    <p id="vitalsInfo">Loading vitals data...</p>
</div>

<div class="card">
    <h2>Clinical Actions</h2>
    <button onclick="window.location.href='education.html'">üìö Patient Education</button>
    <button onclick="goToPrescription()">üìù Generate Prescription</button>
</div>

<div class="card">
    <h2>Post-Care Modules</h2>
    <button onclick="window.location.href='support.html'">üíä Patient Support</button>
    <button onclick="window.location.href='wellness.html'">‚ù§Ô∏è Wellness Tracking</button>
</div>

<script>
const patient = JSON.parse(localStorage.getItem("patientData"));
const vitals = JSON.parse(localStorage.getItem("vitalsData"));

if(patient){
    document.getElementById("patientInfo").innerHTML = `
        <strong>Name:</strong> ${patient.name} <br>
        <strong>Age:</strong> ${patient.age} <br>
        <strong>Gender:</strong> ${patient.gender} <br>
        <strong>Medical History:</strong> ${patient.history || "Not disclosed"}
    `;
} else {
    document.getElementById("patientInfo").innerText = "No patient data found. Fill patient.html first.";
}

if(vitals){
    document.getElementById("vitalsInfo").innerHTML = `
        <strong>Blood Pressure:</strong> ${vitals.bp} <br>
        <strong>Heart Rate:</strong> ${vitals.heart} bpm <br>
        <strong>Temperature:</strong> ${vitals.temp} ¬∞C <br>
        <strong>Oxygen Level:</strong> ${vitals.oxygen} %
    `;
} else {
    document.getElementById("vitalsInfo").innerText = "No vitals data found. Fill vitals.html first.";
}

function goToPrescription(){
    if(!patient || !vitals){
        alert("Patient data and vitals must be filled before prescription.");
        return;
    }
    window.location.href = "prescription.html";
}
</script>

</body>
</html>
