<!DOCTYPE html>
<html>
<head>
    <title>Voice Prescription</title>
</head>
<body>

<h2>üéôÔ∏è Voice-Based Prescription</h2>

<button onclick="startRecording()">Start Recording</button>
<p id="status"></p>

<textarea id="rx" rows="6" cols="60"
placeholder="Prescription will appear here..."></textarea><br><br>

<button onclick="saveRx()">Save Prescription</button>

<script>
let recognition;

function startRecording() {
    if (!('webkitSpeechRecognition' in window)) {
        alert("Voice recognition not supported in this browser");
        return;
    }

    recognition = new webkitSpeechRecognition();
    recognition.lang = "en-IN";
    recognition.continuous = false;

    status.innerText = "Listening...";

    recognition.onresult = function(event) {
        rx.value += event.results[0][0].transcript;
        status.innerText = "Recording stopped";
    };

    recognition.onerror = function() {
        status.innerText = "Error occurred during recording";
    };

    recognition.start();
}

function saveRx() {
    localStorage.setItem("prescription", rx.value);
    alert("Prescription saved successfully");
    window.location.href = "doctor.html";
}
</script>

</body>
</html>
